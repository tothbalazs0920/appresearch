!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.MT=t()}(this,function(){"use strict";function e(){this.buffer=[],this.startedAt=0,this.recording=!1,this.window={width:window.outerWidth,height:window.outerHeight}}return e.prototype={moveListener:function(t,n){return function(e){t&&t(["mo",e.clientX,e.clientY,(new Date).getTime()/1e3-n])}},clickDownListener:function(t,n){return function(e){1==e.which&&t&&t(["ld",e.clientX,e.clientY,(new Date).getTime()/1e3-n]),3==e.which&&t&&t(["rd",e.clientX,e.clientY,(new Date).getTime()/1e3-n])}},clickUpListener:function(t,n){return function(e){1==e.which&&t&&t(["lu",e.clientX,e.clientY,(new Date).getTime()/1e3-n]),3==e.which&&t&&t(["ru",e.clientX,e.clientY,(new Date).getTime()/1e3-n])}},scrollListener:function(t,n){return function(e){t&&t(["sc",document.scrollingElement.scrollLeft,document.scrollingElement.scrollTop,(new Date).getTime()/1e3-n])}},record:function(){if(!this.recording){var t=this;0==t.startedAt&&(t.startedAt=(new Date).getTime()/1e3),t.buffer.push(["st",document.scrollingElement.scrollLeft,document.scrollingElement.scrollTop,0]),window.onmousemove=this.moveListener(function(e){t.buffer.push(e)},t.startedAt),window.onmousedown=this.clickDownListener(function(e){t.buffer.push(e)},t.startedAt),window.onmouseup=this.clickUpListener(function(e){t.buffer.push(e)},t.startedAt),window.onscroll=this.scrollListener(function(e){t.buffer.push(e)},t.startedAt),t.recording=!0}},stop:function(){this.recording=!1},isRecording:function(){return this.recording},getBuffer:function(){return{buffer:this.buffer}},getWindow:function(){return{window:{width:window.outerWidth,height:window.outerHeight}}}},e});